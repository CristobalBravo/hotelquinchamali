<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="layout/layout :: head"></head>
<body>

<header th:replace="layout/layout :: header"></header>

<script>
		function showRooms() {
			//Se captura la cantidad de habitaciones
			var cant = $("#cant_h").val();

			//Se limpia el div
			$('#div_selects').empty();


			//se cargan los select dinamicamente
			for(var i=0; i<cant; i++) {
				//Se captura el select oculto
				var select = $('#buscar_tipo_habitacion').clone().addClass("selectVisible");

				//Se inyecta
				$('#div_selects').append(select);
			}
			$(".selectVisible").css( "display", "block" );

		}
</script>
<main role="main" class="col-md-9 ml-sm-auto col-lg-10 px-4">
    <div th:replace="layout/layout :: alerts"></div>
    <div class="py-4">

        <div class="card bg-light text-black">
            <div class="card-header" th:text="${titulo}"></div>
            <div class="card-body">


                <form th:action="@{/admin/reserva/registrarhb/save/} + ${reserva.id}" method="post">
                    <div th:if="${#lists.isEmpty(reserva.habitaciones)}">
                        <div class="shadow-sm p-3 mb-5 bg-white rounded" th:each="i : ${#numbers.sequence(0,reserva.cantidadHabitaciones -1)}">
                            <h5>Habitación <span th:text="${i + 1}"></span></h5>
                            <div class="form-group">
                                <label th:for="${'habitacion'+i}">Tipo de Habitación</label>
                                <select type="text" class="form-control selectwo" th:id="${'habitacion'+i}" th:name="${'habitacion'+i}" placeholder="Tipo de Habitación">
                                    <option th:value="${hb.id}" th:each="hb : ${hbdisponible}" th:text="${'Número '+hb.numero+' - Tipo: ' + hb.tipoHabitacion.nombre}"></option>
                                </select>
                            </div>
                            <div class="form-row">
                                <div class="col-md-8 mb-3">
                                    <label th:for="${'nombre'+i}">Nombre Huésped</label>
                                    <input type="text" class="form-control" th:id="${'nombre'+i}" th:name="${'nombre'+i}" placeholder="Nombre Completo" required>
                                </div>
                                <div class="col-md-4 mb-3">
                                    <label th:for="${'ci'+i}">Nombre Huésped</label>
                                    <input type="text" class="form-control" th:id="${'ci'+i}" th:name="${'ci'+i}" placeholder="Cédula de Identidad" required>
                                </div>
                            </div>
                        </div>

                    </div>

                    <div class="form-group row">
                        <div class="col-sm-6">

                            <input type="submit" value="Guardar" class="btn btn-primary" />
                        </div>
                    </div>


                </form>
            </div>
        </div>
    </div>
</main>
<footer th:replace="layout/layout :: footer"></footer>

<script>
    $(document).ready(function() {
        $('.selectwo').select2();
    });
</script>
</body>
</html>